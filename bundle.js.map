{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;AAAA;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACNsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C;AACA;AACA,0BAA0B,kBAAkB;AAC5C;AACA;AACA,0BAA0B,kBAAkB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,IAAI,cAAc;AAC1B;AACA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA,wBAAwB;AACxB;AACA,UAAU;AACV,gBAAgB,4BAA4B;AAC5C;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA,iCAAiC,mBAAmB,IAAI;AACxD;AACA,2BAA2B,MAAM,MAAM,IAAI,eAAe;AAC1D,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,gHAAgH,GAAG;AACnH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC","sources":["webpack://calc/./src/styles.css?5231","webpack://calc/webpack/bootstrap","webpack://calc/webpack/runtime/make namespace object","webpack://calc/./src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./styles.css\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  let items = [];\r\n  const container = document.getElementById(\"container\");\r\n  const addBtn = document.getElementById(\"add-btn\");\r\n  let bill = document.getElementById(\"bill\");\r\n  let rate18 = /** @type {HTMLInputElement} */ (\r\n    document.getElementById(\"rate18\")\r\n  );\r\n  let rate22 = /** @type {HTMLInputElement} */ (\r\n    document.getElementById(\"rate22\")\r\n  );\r\n  let rate24 = /** @type {HTMLInputElement} */ (\r\n    document.getElementById(\"rate24\")\r\n  );\r\n\r\n  function getRates() {\r\n    async function scrapeVisibleDiv(url, targetClass) {\r\n      try {\r\n        const response = await fetch(url);\r\n        if (!response.ok) {\r\n          console.error(`Failed to fetch page: ${response.status}`);\r\n          return null;\r\n        }\r\n\r\n        const text = await response.text();\r\n        const parser = new DOMParser();\r\n        const doc = parser.parseFromString(text, \"text/html\");\r\n\r\n        const divs = doc.querySelectorAll(`div.${targetClass}`);\r\n\r\n        for (let div of divs) {\r\n          const style = div.getAttribute(\"style\") || \"\";\r\n          if (!/display:\\s*none/i.test(style)) {\r\n            return div.innerHTML;\r\n          }\r\n        }\r\n\r\n        return null;\r\n      } catch (error) {\r\n        console.error(\"Error fetching or parsing page:\", error);\r\n        return null;\r\n      }\r\n    }\r\n\r\n    // Example usage\r\n    const url = \"https://thejewellersassociation.org\";\r\n    const targetClass = \"gold_rate\";\r\n    scrapeVisibleDiv(url, targetClass).then((result) => {\r\n      if (result) {\r\n        console.log(\"Extracted innerHTML:\", result);\r\n      }\r\n    });\r\n  }\r\n\r\n  function ensureAtLeastOneItem() {\r\n    if (items.length === 0) addDuplicateDiv();\r\n  }\r\n\r\n  function updateBill() {\r\n    const div = document.createElement(\"div\");\r\n    let totalAmount = 0;\r\n    for (let i in items) {\r\n      let rate = items[i].type == \"18K\" ? rate18.value : rate22.value;\r\n      items[i].wastage =\r\n        (items[i].grosswgt * (items[i].touch / 100) * rate24.value) / rate -\r\n        items[i].grosswgt;\r\n      let amount =\r\n        (parseFloat(items[i].grosswgt) + parseFloat(items[i].wastage)) *\r\n          parseFloat(rate) +\r\n        parseFloat(items[i].stone);\r\n\r\n      totalAmount += amount;\r\n      console.log(items[i].grosswgt, items[i].wastage, rate, items[i].stone);\r\n      div.innerHTML += `<span class=\"text-base text-center\">${\r\n        items[i].name\r\n      } - ${items[i].type}</span>\r\n      <div class=\"flex justify-between text-2xl\">\r\n        <span>Weight</span>\r\n        <span>${items[i].grosswgt}</span>\r\n      </div>\r\n      <div class=\"flex justify-between text-2xl\">\r\n        <span>Wastage@${((items[i].wastage * 100) / items[i].grosswgt).toFixed(\r\n          2\r\n        )}</span>\r\n        <span>${items[i].wastage.toFixed(3)}</span>\r\n      </div>\r\n      <div class=\"flex justify-between text-2xl\">\r\n        <span>S. Charges</span>\r\n        <span>${items[i].stone}</span>\r\n      </div>\r\n      <hr class=\"h-px my-2 bg-gray-200 border-0 dark:bg-gray-700\" />\r\n      <div class=\"flex justify-between text-2xl\">\r\n        <span class=\"text-xs\">(${items[i].grosswgt} + ${items[\r\n        i\r\n      ].wastage.toFixed(3)}) * ${rate} + ${items[i].stone}</span>\r\n        <span class=\"text-xs\">${amount.toFixed(0)}</span>\r\n      </div>\r\n      <hr class=\"h-px my-2 bg-gray-200 border-0 dark:bg-gray-700\" />`;\r\n    }\r\n    if (items.length > 0) {\r\n      div.innerHTML += `<div class=\"flex justify-between text-2xl\">\r\n        <span>Amount</span>\r\n        <span>${totalAmount.toFixed(0)}</span>\r\n      </div>\r\n      <hr class=\"h-px my-2 bg-gray-200 border-0 dark:bg-gray-700\" />\r\n      <hr class=\"h-px bg-gray-200 border-0 dark:bg-gray-700\" />`;\r\n    }\r\n    bill.innerHTML = div.innerHTML;\r\n  }\r\n\r\n  function formUpdate(id, value) {\r\n    let [key, i] = id.split(\"_\");\r\n    for (let k in items) {\r\n      if (`${items[k].id}` === i) {\r\n        items[k][key] = value;\r\n      }\r\n    }\r\n    updateBill();\r\n  }\r\n\r\n  function addDuplicateDiv() {\r\n    const id = Date.now();\r\n    const div = document.createElement(\"div\");\r\n    div.id = `item-${id}`;\r\n    div.innerHTML = `\r\n      <div class=\"grid grid-cols-2 bg-gray-50 hover:bg-gray-100 p-4 cursor-pointer rounded-md border border-gray-300 transition-colors duration-300\">\r\n          <div class=\"p-1 bg-white rounded-lg font-mono\">\r\n            <label class=\"block text-gray-700 text-sm font-bold mb-2\">Name</label>\r\n            <input id=\"${\r\n              \"name_\" + id\r\n            }\" class=\"bg-gray-50 hover:bg-gray-100 text-sm custom-input w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm transition duration-300 ease-in-out transform focus:-translate-y-1 focus:outline-blue-300 hover:shadow-lg hover:border-blue-300 \" placeholder=\"Enter text here\" type=\"text\" />\r\n          </div>\r\n          <div class=\"p-1 bg-white rounded-lg font-mono\">\r\n            <label class=\"block text-gray-700 text-sm font-bold mb-2\">Weight</label>\r\n            <input id=\"${\r\n              \"grosswgt_\" + id\r\n            }\" class=\"bg-gray-50 hover:bg-gray-100 text-sm custom-input w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm transition duration-300 ease-in-out transform focus:-translate-y-1 focus:outline-blue-300 hover:shadow-lg hover:border-blue-300 \" placeholder=\"Enter text here\" type=\"text\" />\r\n          </div>\r\n          <div class=\"p-1 bg-white rounded-lg font-mono\">\r\n            <label class=\"block text-gray-700 text-sm font-bold mb-2\">Touch</label>\r\n            <input id=\"${\r\n              \"touch_\" + id\r\n            }\" class=\"bg-gray-50 hover:bg-gray-100 text-sm custom-input w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm transition duration-300 ease-in-out transform focus:-translate-y-1 focus:outline-blue-300 hover:shadow-lg hover:border-blue-300 \" placeholder=\"Enter text here\" type=\"text\" />\r\n          </div>\r\n          <div class=\"p-1 bg-white rounded-lg font-mono\">\r\n            <label class=\"block text-gray-700 text-sm font-bold mb-2\">S. Charges</label>\r\n            <input id=\"${\r\n              \"stone_\" + id\r\n            }\" class=\"bg-gray-50 hover:bg-gray-100 text-sm custom-input w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm transition duration-300 ease-in-out transform focus:-translate-y-1 focus:outline-blue-300 hover:shadow-lg hover:border-blue-300 \" placeholder=\"Enter text here\" type=\"text\" />\r\n          </div>\r\n          <div class=\"p-1 bg-white rounded-lg font-mono col-span-2\">\r\n            <label class=\"block text-gray-700 text-sm font-bold mb-2\">Type</label>\r\n            <select id=\"${\r\n              \"type_\" + id\r\n            }\" class=\"bg-gray-50 hover:bg-gray-100 text-sm custom-input w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm transition duration-300 ease-in-out transform focus:-translate-y-1 focus:outline-blue-300 hover:shadow-lg hover:border-blue-300 \">\r\n              <option value=\"18K\">18K</option>\r\n              <option value=\"22K\">22K</option>\r\n            </select>\r\n          </div>\r\n        <button class=\"remove-btn col-span-2 mt-4 px-4 py-2 bg-red-500 text-white rounded-lg shadow\" data-id=\"${id}\">Remove</button>\r\n      </div>\r\n    `;\r\n    container.appendChild(div);\r\n    document.getElementById(\"name_\" + id).addEventListener(\"input\", (e) => {\r\n      formUpdate(\"name_\" + id, e.target.value);\r\n    });\r\n    document.getElementById(\"grosswgt_\" + id).addEventListener(\"input\", (e) => {\r\n      formUpdate(\"grosswgt_\" + id, e.target.value);\r\n    });\r\n    document.getElementById(\"touch_\" + id).addEventListener(\"input\", (e) => {\r\n      formUpdate(\"touch_\" + id, e.target.value);\r\n    });\r\n    document.getElementById(\"type_\" + id).addEventListener(\"input\", (e) => {\r\n      formUpdate(\"type_\" + id, e.target.value);\r\n    });\r\n    document.getElementById(\"stone_\" + id).addEventListener(\"input\", (e) => {\r\n      formUpdate(\"stone_\" + id, e.target.value);\r\n    });\r\n    items.push({\r\n      id,\r\n      name: \"\",\r\n      type: \"18K\",\r\n      touch: \"\",\r\n      grosswgt: \"\",\r\n      wastage: \"0\",\r\n      stone: \"\",\r\n    });\r\n    updateBill();\r\n  }\r\n\r\n  function removeDiv(event) {\r\n    const id = event.target.getAttribute(\"data-id\");\r\n    if (items.length <= 1) return;\r\n\r\n    document.getElementById(`item-${id}`)?.remove();\r\n    items = items.filter((item) => item.id !== parseInt(id, 10));\r\n    updateBill();\r\n    ensureAtLeastOneItem();\r\n  }\r\n\r\n  if (!container.dataset.listenerAdded) {\r\n    container.addEventListener(\"click\", (event) => {\r\n      if (event.target.classList.contains(\"remove-btn\")) {\r\n        removeDiv(event);\r\n      }\r\n    });\r\n    container.dataset.listenerAdded = \"true\";\r\n  }\r\n\r\n  if (!addBtn.dataset.listenerAdded) {\r\n    addBtn.addEventListener(\"click\", () => {\r\n      addDuplicateDiv();\r\n    });\r\n    addBtn.dataset.listenerAdded = \"true\";\r\n  }\r\n\r\n  if (!rate18.dataset.listenerAdded) {\r\n    rate18.addEventListener(\"input\", (ev) => {\r\n      updateBill();\r\n    });\r\n    rate18.dataset.listenerAdded = \"true\";\r\n  }\r\n\r\n  if (!rate22.dataset.listenerAdded) {\r\n    rate22.addEventListener(\"input\", (ev) => {\r\n      updateBill();\r\n    });\r\n    rate22.dataset.listenerAdded = \"true\";\r\n  }\r\n\r\n  if (!rate24.dataset.listenerAdded) {\r\n    rate24.addEventListener(\"input\", (ev) => {\r\n      updateBill();\r\n    });\r\n    rate24.dataset.listenerAdded = \"true\";\r\n  }\r\n\r\n  getRates();\r\n});\r\n"],"names":[],"sourceRoot":""}